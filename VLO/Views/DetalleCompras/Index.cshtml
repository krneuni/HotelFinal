@model IEnumerable<VLO.Models.DetalleCompra>

@{
    ViewBag.Title = "Index";
}

<h2>Compras</h2>

<p>
    <a href="@Url.Action("Create","DetalleCompras")" class="btn btn-success"> <i class="glyphicon glyphicon-plus"></i> Nuevo</a>
</p>
<form action="@Url.Action("Index","DetalleCompras")" method="post">
    <div class="col-sm-4">
        <center>
            <label style="color:#0101DF;">Fecha Inicial</label>
        </center>
        <input type="date" class="form-control" name="FI" id="FI" />
    </div>

    <div class="col-sm-4">
        <center>
            <label style="color:#8A0808;">Fecha Final</label>
        </center>
        <input type="date" class="form-control" name="FF" id="FF" />
    </div>

    <div class="col-sm-4">
        <center>
            <label>&ensp;</label>
        </center>
        <button type="submit" value="" class="btn btn-success form-control">Buscar</button>
    </div>
</form>
<div class="row col-md-12 table-responsive" style="margin-top:10px">
    <table class="table table-bordered" style="background-color:#FFF">
        <thead>
            <tr style="background-color:#FAFAFA; text-align:right; font-weight:bold">
                <td colspan="8">Total:   @ViewBag.sum</td>
            </tr>
        </thead>
        <tr style="background-color:#E6E6E6">
            <th>
                @Html.DisplayNameFor(model => model.Productos.Nombre)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Proveedores.Nombre)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Cantidad)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.PrecioUnit)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.FechaCompra)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.PrecioTotal)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Codigo)
            </th>
            <th></th>
        </tr>
        @if (ViewBag.bandera == true)
        {
            foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.Productos.Nombre)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Proveedores.Nombre)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Cantidad)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.PrecioUnit)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.FechaCompra)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.PrecioTotal)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Codigo)
                    </td>
                    <td>
                        @Html.ActionLink(" ", "Edit", new { id = item.IdDetalle }, new { @class = "btn btn-warning glyphicon glyphicon-refresh" })
                        @*@Html.ActionLink("Details", "Details", new { id=item.IdDetalle }) |*@
                        @Html.ActionLink(" ", "Delete", new { id = item.IdDetalle }, new { @class = "btn btn-danger glyphicon glyphicon-trash" })
                    </td>
                </tr>
            }
        }
            <tr>
                <td colspan="8" style="background-color:#FAFAFA; text-align:center; font-weight:bold">@ViewBag.Error</td>
            </tr>
        </table>
</div>
